############ Nidhi_Shah: TitanEnrollAPP - Screens...UI
##########################################3
PageManager:
    
    HomePage:
    LoginPage:
    SelectionPage:
    CourseCatalogPage:
    EnrollmentPage:

####################### Home page ####################  
<HomePage>:
    name:"homepage"
    md_bg_color:56/255,40/255,81/255,1
    MDBoxLayout:
        orientation: 'vertical'
        MDBoxLayout:
            size_hint: 1, None
            orientation: 'horizontal'
            height:200
            padding:dp(25),dp(25)
            
            canvas:
                Rectangle:
                    size: self.size
                    pos: self.pos
            MDLabel:
                text:"HEY TITAN!!"
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_style:"H4"
                
            MDBoxLayout:
                canvas:
                    Color:
                        rgb: 1, 1, 1
                    Ellipse:
                        pos: self.pos
                        size: self.size
                        source: 'Images/logo.png'
                        angle_start: 0
                        angle_end: 360
        MDGridLayout:
            
            size_hint_y:.75
            cols:1
            padding:[dp(35),dp(15),dp(40),dp(35)]
            spacing:dp(30)
            
            
            MDBoxLayout:
                orientation: 'horizontal'
                size_hint: None, None
                height:130
                width: 340
               
                md_bg_color: app.theme_cls.accent_dark
                Image:
                    
                    source:"Images/catalog.jpeg"
                    size_hint: None, 1
                MDFlatButton:
                    md_bg_color: app.theme_cls.accent_dark
                    size_hint: None, 1
                    markup:True
                    width:100
                    halign:"center"
                    text:"COURSE-CATALOG\nVIEW"
                    font_size:'24sp'
                    on_press:
                        app.root.current = "selectionpage"
                        root.manager.transition.direction ="left"
                   
            
            MDBoxLayout:
                orientation: 'horizontal'
                size_hint: None, None
                height:130
                width: 340
                #spacing:dp(20)
                md_bg_color: app.theme_cls.accent_dark
                Image:
                    
                    source:"Images/Enroll.jpg"
                    size_hint: None, 1
                MDFlatButton:
                    md_bg_color: app.theme_cls.accent_dark
                    markup:True
                    text:"CLASS \n ENROLLMENT"
                    halign:"center"
                    font_size:'24sp'
                    size_hint: None, 1
                    width:100
                    on_press:
                        app.root.current = "loginpage"
                        root.manager.transition.direction ="left"

###################### Login page #################### 
<LoginPage>:

    name:"loginpage"
    user:user
    password:password
    md_bg_color:56/255,40/255,81/255,1 
    MDBoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: 'Home'
            left_action_items: [['arrow-left', lambda _: setattr(root.manager, 'current', 'homepage')]]
            md_bg_color: app.theme_cls.accent_color
        
        MDBoxLayout:
            #md_bg_color:56/255,40/255,81/255,1 
            size_hint_y:None
            height:180
            MDLabel:
            
                id: CSU_Login
                text: "CSUF Login"
                font_size: 40
                theme_text_color: "Custom"
                text_color:1,1,1,1
                halign: 'center'
                size_hint:1,None
                padding_y: 15
        MDGridLayout:
            id:"logininfo"
            cols:1
            #md_bg_color: app.theme_cls.accent_light
            padding:dp(10)
            spacing:dp(10)
               
            MDBoxLayout:
                orientation: 'vertical'
                #md_bg_color: app.theme_cls.accent_dark
                padding:[dp(30),dp(30)]
                size_hint: 1, None
                height:90
                
                MDTextFieldRound:
                    id: user
                    hint_text: "username"
                    icon_right: "account"
                    normal_color: app.theme_cls.accent_dark
                    color_active: app.theme_cls.primary_dark
                    size_hint_x:None
                    width: 200
                    font_size: 20
                    required: True
                    helper_text_mode: "on_error"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                   
            MDBoxLayout:
                orientation: 'vertical'
                #md_bg_color: 56/255,40/255,81/255,1 
                padding:[dp(30),dp(50)]
                size_hint: 1, None
                height:100
                MDTextFieldRound:
                    id: password
                    normal_color: app.theme_cls.accent_dark
                    color_active: app.theme_cls.primary_dark
                    hint_text: "password"
                    icon_right: "eye-off"
                    required: True
                    helper_text_mode: "on_error"
                    size_hint_x: None
                    width: 200
                    font_size: 20
                    
                    pos_hint: {"center_x": 0.5,"center_y": 0.5}
                    password: True
            MDBoxLayout:
                orientation: 'vertical'
                #md_bg_color: 56/255,40/255,81/255,1 
                padding:[dp(30),dp(50)]
                size_hint: 1, None
                height:100
                MDRoundFlatIconButton:
                    text: "LOG IN"
                    size_hint_x: None
                    width: 120
                    md_bg_color: app.theme_cls.primary_dark
                    font_size: 20
                    text_color:1,1,1,1
                    icon:"login"
                    pos_hint: {"center_x": 0.5,"center_y": 0.4}
                    on_press: root.Login(root.ids.user.text, root.ids.password.text)
    
########################### Selection Page ############################
<SelectionPage>:
    
    name:"selectionpage"
    spinner_dept:spinner_dept
    spinner_prog:spinner_prog
    md_bg_color:56/255,40/255,81/255,1
    MDBoxLayout:
        orientation: 'vertical'
        MDToolbar:
            title: 'Home'
            left_action_items: [['arrow-left', lambda _: setattr(root.manager, 'current', 'homepage')]]
            md_bg_color: app.theme_cls.accent_color
        MDBoxLayout:
            #md_bg_color: app.theme_cls.accent_dark
            size_hint: 1, None
            height: 160
            padding_y:dp(5)
            MDLabel:    
                text: "Department and program Selection \n for Catalog View"
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_style:"H5"
       
        MDGridLayout:
            #md_bg_color: app.theme_cls.accent_light
            size_hint_y:.75
            cols:1
            padding:[dp(60),dp(10),dp(10),dp(35)]
           
            MDBoxLayout:
                #md_bg_color: app.theme_cls.accent_dark
                size_hint: 1, None
                height: 170
              
                Spinner:
                    id: spinner_dept
                    #background_color:70/255,100/255,81/255,0.4
                    background_color:255/255,255/255,255/255,0.4
                    text: "Select Department"
                    font_size:20
                    text_color:1,0,0,1
                    values:["Computer Science"]
                    pos_hint: {"center_x": 0.5, "center_y": 0.8}
                    size_hint:(None,None)
                    size: (280, 90)
                    on_text: root.spinner_clicked(spinner_dept.text) 
            MDBoxLayout:
                size_hint: 1, None
                height: 170
                Spinner:
                    id: spinner_prog
                    background_color:255/255,255/255,255/255,0.4
                    text: "Select Program"
                    font_size:20
                    text_color:1,0,0,1
                    values:["Master","Bachelor"]
                    pos_hint: {"center_x": 0.5, "center_y": 0.9}
                    size_hint:(None,None)
                    size: (280, 90)
                    on_text: root.spinner_clicked_prog(spinner_prog.text)  

            MDBoxLayout:
                #md_bg_color: app.theme_cls.accent_color
                padding_x:dp(3)
                MDFillRoundFlatIconButton:
                    text: "Show Course Catalog"
                    font_size: 20
                    pos_hint: {"center_x": 0.5, "center_y": 0.7}
                    md_bg_color: app.theme_cls.accent_dark
                    icon:'school'
                    on_press:
                        app.root.current = "catalogpage"
                        root.manager.transition.direction ="left"

##################### content is for Course Catalog Page ##################
<Content2>:
    orientation:'vertical'
    size_hint: 1, None
    height:150
    coursedesc:coursedesc
    courseunit:courseunit

    MDBoxLayout:
        size_hint:(1,None)
        height: 420
        spacing:dp(4)
        #### to show the course description and unit
        MDCard:
            orientation: "vertical"
            padding: "4dp"
            size_hint: (1,None)
            height:180
            border_radius:10
            radius:[10]
            pos_hint: {"center_x": 0.5, "center_y": 0.175}
            
            # ###for course-unit label
            MDLabel:
                id: courseunit
                text: "title"
                font_style:'H6'
                size_hint_y: None
                height: 27
                theme_text_color: "Secondary"

            MDSeparator:
                height: "1dp"

            MDLabel:
                id:coursedesc
                text: "Multi\nLine"
                font_size:14
                text_color:1,1,1,1
                size_hint_y: None
                height: 148
                theme_text_color: "Secondary"

################# Course Catalog Page ##############################
<CourseCatalogPage>:
    #Main Layout
    name:'catalogpage'
    displaycatalog:displaycatalog
    selectedeptandprogram:selectedeptandprogram
    md_bg_color:56/255,40/255,81/255,1
    
    MDBoxLayout:
        orientation:'vertical'
        size: root.width,root.height
        spacing:7
        
        # Inside Main layout.. Top bar
        MDToolbar:
            title: 'Home'
           
            left_action_items: [['arrow-left', lambda _: setattr(root.manager, 'current', 'homepage')]]
            md_bg_color: app.theme_cls.accent_color
        MDBoxLayout:
            size_hint_y:None
            height:root.height/10
            padding_y: dp(10)
            MDLabel:
                id:selectedeptandprogram
                text:"Course Catalog For \n Department: \nProgram:"
                text_style:'H5'
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
               
                
                canvas.before:
                    Rectangle:
                        size: self.size
                        pos: self.pos
               
        # Layout to show the courses
        MDBoxLayout:
            orientation:'vertical'
            background_color:56/255,40/255,81/255,1
            background_color: (0,0,0.3,0.1)
            
            #height:root.height/10
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            
            ScrollView:
                bar_width:12
                MDGridLayout:
                    id:displaycatalog
                    cols:1
                    size_hint_y:None
                    # height adjustment to minimum is important to have scroll option on
                    height:self.minimum_height
                    padding:'20dp'
                                     
        MDFillRoundFlatIconButton:
            text: "back to selection"
            md_bg_color: app.theme_cls.accent_dark
            font_size: "18sp"
            pos_hint:{"center_x": .5, "center_y": .9}
            icon:'school'
            on_press:
                root.Gobacktoselectionwork()
                app.root.current = "selectionpage"
                root.manager.transition.direction ="left"

######################## Enrollment PAge ##############
<EnrollmentPage>:
    name:"enrollmentpage"
    loginfo:loginfo
    registeredcourseslist: registeredcourseslist
    availablecourseslist: availablecourseslist
    
    md_bg_color:56/255,40/255,81/255,1
    
    MDBoxLayout:
        orientation:'vertical'
       # size_hint:1,None
       
        MDToolbar:
            id:loginfo
            title: 'Home'
           
            right_action_items: [['logout', lambda _: setattr(root.manager, 'current', 'homepage')]]
            md_bg_color: app.theme_cls.accent_color

        MDBoxLayout:
            orientation: 'vertical'
            size_hint:1,None
            height: 50
            MDLabel:
                id:"registered"
                text: "Your Registered Classes"
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_style:"H5"

        #grid with all the tables to display
        #grid with all the tables to display
        MDBoxLayout:
            orientation:'vertical'
            background_color:56/255,40/255,81/255,1
            background_color: (0,0,0.3,0.1)
            
            MDGridLayout:
               # md_bg_color: app.theme_cls.accent_light
                id:registeredcourseslist
                cols:1   
        
        MDBoxLayout:
            orientation: 'vertical'
            size_hint:1,None
            height: 50
            MDLabel:
                id:"available"
                text: "Available Classes"
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_style:"H5"
            
        MDBoxLayout:
            orientation:'vertical'
            background_color:56/255,40/255,81/255,1
            background_color: (0,0,0.3,0.1)
            
            MDLabel:
                size_hint_y:None
                height: 13
                text:"Note: select class to enroll."
                halign:'center'
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_size:12
            MDGridLayout:
                #md_bg_color: app.theme_cls.accent_light
                id:availablecourseslist
                cols:1

        MDBoxLayout:
            orientation: 'vertical'
            size_hint:1,None
            height: 75
            
            MDRoundFlatButton:
                text: "ENROLL"
                size_hint_x: None
                width: 120
                md_bg_color: app.theme_cls.accent_dark
                font_size: 20
                text_color:1,1,1,1
                pos_hint: {"center_x": 0.5,"center_y": 0.7}
                on_press: root.finalcheck()